{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/flavioazoup/Desenvolvimento/central_integracoes/src/components/customer-filter.tsx"],"sourcesContent":["'use client'\n\nimport { useRouter } from 'next/navigation'\nimport type { Customer } from '@prisma/client'\n\ninterface CustomerFilterProps {\n    customers: Customer[]\n    currentCustomerId?: string\n}\n\nexport function CustomerFilter({ customers, currentCustomerId }: CustomerFilterProps) {\n    const router = useRouter()\n\n    if (customers.length === 0) {\n        return null\n    }\n\n    return (\n        <div className=\"rounded-lg bg-white p-4 shadow-sm\">\n            <label htmlFor=\"customer-filter\" className=\"block text-sm font-medium text-gray-700\">\n                Filtrar por Cliente\n            </label>\n            <select\n                id=\"customer-filter\"\n                className=\"mt-2 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500\"\n                defaultValue={currentCustomerId || ''}\n                onChange={(e) => {\n                    const value = e.target.value\n                    if (value) {\n                        router.push(`/dashboard/integrations?customerId=${value}`)\n                    } else {\n                        router.push('/dashboard/integrations')\n                    }\n                }}\n            >\n                <option value=\"\">Todos os clientes</option>\n                {customers.map((customer) => (\n                    <option key={customer.id} value={customer.id}>\n                        {customer.name}\n                    </option>\n                ))}\n            </select>\n        </div>\n    )\n}\n"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AAUO,SAAS,eAAe,EAAE,SAAS,EAAE,iBAAiB,EAAuB;;IAChF,MAAM,SAAS,IAAA,kJAAS;IAExB,IAAI,UAAU,MAAM,KAAK,GAAG;QACxB,OAAO;IACX;IAEA,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBAAM,SAAQ;gBAAkB,WAAU;0BAA0C;;;;;;0BAGrF,6LAAC;gBACG,IAAG;gBACH,WAAU;gBACV,cAAc,qBAAqB;gBACnC,UAAU,CAAC;oBACP,MAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;oBAC5B,IAAI,OAAO;wBACP,OAAO,IAAI,CAAC,CAAC,mCAAmC,EAAE,OAAO;oBAC7D,OAAO;wBACH,OAAO,IAAI,CAAC;oBAChB;gBACJ;;kCAEA,6LAAC;wBAAO,OAAM;kCAAG;;;;;;oBAChB,UAAU,GAAG,CAAC,CAAC,yBACZ,6LAAC;4BAAyB,OAAO,SAAS,EAAE;sCACvC,SAAS,IAAI;2BADL,SAAS,EAAE;;;;;;;;;;;;;;;;;AAO5C;GAlCgB;;QACG,kJAAS;;;KADZ"}},
    {"offset": {"line": 89, "column": 0}, "map": {"version":3,"sources":["file:///Users/flavioazoup/Desenvolvimento/central_integracoes/src/server/actions/sync.ts"],"sourcesContent":["'use server'\n\nimport { revalidatePath } from 'next/cache'\nimport { prisma } from '@/lib/prisma'\nimport { getCurrentTenant } from '@/server/services/tenant.service'\nimport { syncQueue } from '@/server/jobs/queue'\n\nexport async function triggerSync(integrationId: string, type: 'products' | 'orders') {\n    const tenant = await getCurrentTenant()\n    if (!tenant) {\n        return { message: 'Unauthorized' }\n    }\n\n    try {\n        // 1. Create SyncJob record\n        const job = await prisma.syncJob.create({\n            data: {\n                tenantId: tenant.id,\n                integrationId,\n                type,\n                status: 'pending',\n            },\n        })\n\n        // 2. Add to BullMQ\n        await syncQueue.add(type, {\n            tenantId: tenant.id,\n            integrationId,\n            jobId: job.id,\n            type,\n        })\n\n        revalidatePath('/dashboard/sync-status')\n        return { message: 'Sync started' }\n    } catch (error) {\n        return { message: 'Failed to start sync' }\n    }\n}\n"],"names":[],"mappings":";;;;;;;MAOsB,wBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA,+CAAA"}},
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["file:///Users/flavioazoup/Desenvolvimento/central_integracoes/src/app/dashboard/integrations/integration-actions.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport { triggerSync } from '@/server/actions/sync'\nimport { RefreshCw, Package, ShoppingCart } from 'lucide-react'\n\ninterface IntegrationActionsProps {\n    integrationId: string\n}\n\nexport function IntegrationActions({ integrationId }: IntegrationActionsProps) {\n    const [loading, setLoading] = useState<'products' | 'orders' | null>(null)\n    const [message, setMessage] = useState<{ type: 'success' | 'error', text: string } | null>(null)\n\n    const handleSync = async (type: 'products' | 'orders') => {\n        setLoading(type)\n        setMessage(null)\n\n        try {\n            const result = await triggerSync(integrationId, type)\n\n            if (result.message === 'Sync started') {\n                setMessage({ type: 'success', text: `${type === 'products' ? 'Products' : 'Orders'} sync started!` })\n                // Refresh the page after a short delay to show updated jobs\n                setTimeout(() => {\n                    window.location.reload()\n                }, 1500)\n            } else {\n                setMessage({ type: 'error', text: result.message })\n            }\n        } catch (error) {\n            setMessage({ type: 'error', text: 'Failed to start sync' })\n        } finally {\n            setLoading(null)\n        }\n    }\n\n    return (\n        <div className=\"space-y-3\">\n            {message && (\n                <div className={`rounded-md p-3 text-sm ${message.type === 'success'\n                        ? 'bg-green-50 text-green-800'\n                        : 'bg-red-50 text-red-800'\n                    }`}>\n                    {message.text}\n                </div>\n            )}\n\n            <div className=\"flex gap-2\">\n                <button\n                    onClick={() => handleSync('products')}\n                    disabled={loading !== null}\n                    className=\"flex-1 inline-flex items-center justify-center gap-2 rounded-md bg-blue-600 px-3 py-2 text-sm font-medium text-white hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                    {loading === 'products' ? (\n                        <RefreshCw className=\"h-4 w-4 animate-spin\" />\n                    ) : (\n                        <Package className=\"h-4 w-4\" />\n                    )}\n                    Sync Products\n                </button>\n\n                <button\n                    onClick={() => handleSync('orders')}\n                    disabled={loading !== null}\n                    className=\"flex-1 inline-flex items-center justify-center gap-2 rounded-md bg-green-600 px-3 py-2 text-sm font-medium text-white hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                    {loading === 'orders' ? (\n                        <RefreshCw className=\"h-4 w-4 animate-spin\" />\n                    ) : (\n                        <ShoppingCart className=\"h-4 w-4\" />\n                    )}\n                    Sync Orders\n                </button>\n            </div>\n        </div>\n    )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;;;AAJA;;;;AAUO,SAAS,mBAAmB,EAAE,aAAa,EAA2B;;IACzE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAA+B;IACrE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAqD;IAE3F,MAAM,aAAa,OAAO;QACtB,WAAW;QACX,WAAW;QAEX,IAAI;YACA,MAAM,SAAS,MAAM,IAAA,kLAAW,EAAC,eAAe;YAEhD,IAAI,OAAO,OAAO,KAAK,gBAAgB;gBACnC,WAAW;oBAAE,MAAM;oBAAW,MAAM,GAAG,SAAS,aAAa,aAAa,SAAS,cAAc,CAAC;gBAAC;gBACnG,4DAA4D;gBAC5D,WAAW;oBACP,OAAO,QAAQ,CAAC,MAAM;gBAC1B,GAAG;YACP,OAAO;gBACH,WAAW;oBAAE,MAAM;oBAAS,MAAM,OAAO,OAAO;gBAAC;YACrD;QACJ,EAAE,OAAO,OAAO;YACZ,WAAW;gBAAE,MAAM;gBAAS,MAAM;YAAuB;QAC7D,SAAU;YACN,WAAW;QACf;IACJ;IAEA,qBACI,6LAAC;QAAI,WAAU;;YACV,yBACG,6LAAC;gBAAI,WAAW,CAAC,uBAAuB,EAAE,QAAQ,IAAI,KAAK,YACjD,+BACA,0BACJ;0BACD,QAAQ,IAAI;;;;;;0BAIrB,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBACG,SAAS,IAAM,WAAW;wBAC1B,UAAU,YAAY;wBACtB,WAAU;;4BAET,YAAY,2BACT,6LAAC,gOAAS;gCAAC,WAAU;;;;;qDAErB,6LAAC,sNAAO;gCAAC,WAAU;;;;;;4BACrB;;;;;;;kCAIN,6LAAC;wBACG,SAAS,IAAM,WAAW;wBAC1B,UAAU,YAAY;wBACtB,WAAU;;4BAET,YAAY,yBACT,6LAAC,gOAAS;gCAAC,WAAU;;;;;qDAErB,6LAAC,yOAAY;gCAAC,WAAU;;;;;;4BAC1B;;;;;;;;;;;;;;;;;;;AAMtB;GAnEgB;KAAA"}},
    {"offset": {"line": 243, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/lucide-react/dist/esm/icons/refresh-cw.js","sources":["file:///Users/flavioazoup/Desenvolvimento/central_integracoes/node_modules/lucide-react/src/icons/refresh-cw.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8', key: 'v9h5vc' }],\n  ['path', { d: 'M21 3v5h-5', key: '1q7to0' }],\n  ['path', { d: 'M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16', key: '3uifl3' }],\n  ['path', { d: 'M8 16H3v5', key: '1cv678' }],\n];\n\n/**\n * @component @name RefreshCw\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMyAxMmE5IDkgMCAwIDEgOS05IDkuNzUgOS43NSAwIDAgMSA2Ljc0IDIuNzRMMjEgOCIgLz4KICA8cGF0aCBkPSJNMjEgM3Y1aC01IiAvPgogIDxwYXRoIGQ9Ik0yMSAxMmE5IDkgMCAwIDEtOSA5IDkuNzUgOS43NSAwIDAgMS02Ljc0LTIuNzRMMyAxNiIgLz4KICA8cGF0aCBkPSJNOCAxNkgzdjUiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/refresh-cw\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst RefreshCw = createLucideIcon('refresh-cw', __iconNode);\n\nexport default RefreshCw;\n"],"names":[],"mappings":";;;;;;;;;;;;;AAGO,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,UAAA,CAAA,CAAA,CAAuB;IAClC;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAQ,CAAA;YAAE,GAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAsD,CAAA,CAAA,CAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA,CAAU;KAAA;IACnF;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAQ,CAAA;YAAE,GAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAc,CAAA,CAAA,CAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA,CAAU;KAAA;IAC3C;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAQ,CAAA;YAAE,GAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAuD,CAAA,CAAA,CAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA,CAAU;KAAA;IACpF;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAQ,CAAA;YAAE,GAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAa,CAAA,CAAA,CAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA,CAAU;KAAA;CAC5C;AAaA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,SAAA,CAAA,CAAA,KAAY,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,iKAAA,EAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAc,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA"}}]
}